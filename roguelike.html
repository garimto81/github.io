<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>간단한 로그라이크 게임</title>
    <style>
        body {
            font-family: monospace;
            background: #000;
            color: #0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        #game {
            line-height: 1.2em;
        }
    </style>
</head>
<body>
<pre id="game"></pre>
<script>
const width = 10;
const height = 10;
let player = {x: 5, y: 5};
let monsters = [];
for (let i = 0; i < 5; i++) {
    monsters.push({x: Math.floor(Math.random()*width), y: Math.floor(Math.random()*height)});
}
function draw() {
    let output = '';
    for (let y=0; y<height; y++) {
        for (let x=0; x<width; x++) {
            let char = '.';
            if (player.x === x && player.y === y) char = '@';
            else {
                for (const m of monsters) {
                    if (m.x === x && m.y === y) {char = 'M'; break;}
                }
            }
            output += char;
        }
        output += '\n';
    }
    document.getElementById('game').textContent = output;
}
function movePlayer(dx, dy) {
    const nx = player.x + dx;
    const ny = player.y + dy;
    if (nx>=0 && nx<width && ny>=0 && ny<height) {
        player.x = nx; player.y = ny;
    }
}
function moveMonsters() {
    for (const m of monsters) {
        const dir = Math.floor(Math.random()*4);
        let dx=0, dy=0;
        if (dir===0) dx=-1; else if (dir===1) dx=1; else if (dir===2) dy=-1; else dy=1;
        const nx = m.x + dx; const ny = m.y + dy;
        if (nx>=0 && nx<width && ny>=0 && ny<height) { m.x=nx; m.y=ny; }
    }
}
function checkGameOver() {
    for (const m of monsters) {
        if (m.x === player.x && m.y === player.y) {
            document.getElementById('game').textContent += '\n게임 오버!';
            document.removeEventListener('keydown', handler);
            return true;
        }
    }
    return false;
}
function handler(e) {
    if (e.key==='ArrowLeft') movePlayer(-1,0);
    else if (e.key==='ArrowRight') movePlayer(1,0);
    else if (e.key==='ArrowUp') movePlayer(0,-1);
    else if (e.key==='ArrowDown') movePlayer(0,1);
    moveMonsters();
    draw();
    checkGameOver();
}
draw();
document.addEventListener('keydown', handler);
</script>
</body>
</html>
